<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: scripts.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: scripts.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * EntriPoint Module
 * @module
 *
 * @author  victor Rodriguez &lt;rodriguezviktor@gmail.com>
 * @version 1.0.0
 * @description Archivo de inicio js
 */

import { pagination } from './pagination.js';
import { getCart, addToCart, removeProducToCart } from './cart.js';
import { getProductsList } from './getProductsList.js';
import { getCategories } from './service/getCategories.js';

/**
 * Esta veriable contiene el host del backend
 * @type {String}
 */
const host = 'http://localhost:3001/';

/**
 * Esta variable hace referencia al input en el cual el usuario puede hacer busquedas.
 * @type {Node&lt;HTMLInputElement>}
 */
const searchButton = document.getElementById('search');

/**
 * Esta variable hace referencia al select el cual el usuario puede seleccionar la categoria para aplicar un filtro.
 * @type {Node&lt;HTMLSelectElement>}
 */
const categorySelect = document.getElementById('category');

/**
 * Esta variable hace referencia al Ul el cual se renderizaran los numeros de paginas disponibles.
 * @type {Node&lt;HTMLUListElement>}
 */
const paginationLI = document.querySelector('.pagination');

searchButton.addEventListener('click', () => getProductsList());
categorySelect.addEventListener('change', () => getProductsList());
paginationLI.addEventListener('click', (e) => pagination(e.target.id));

document.addEventListener('click', (e) => {
  let element = e.target;
  if (element.classList[0] === 'btn-add-cart') {
    addToCart(parseInt(element.id));
  }

  if (element.classList[0] === 'removeProduct') {
    console.log(element.id);
    removeProducToCart(parseInt(element.id));
  }
});

/**
 * Esta funcion consume el servicio getCategories para obtener y renderizar la lista de categorias.
 * @returns {void}
 */
(async function getAllCategories() {
  try {
    const data = await getCategories();
    if (data.length) {
      data.forEach((category) => {
        categorySelect.innerHTML += `&lt;option value="${category.id}">${category.name}&lt;/option>`;
      });
    }
  } catch (error) {
    throw new Error(error.message);
  }
})();

getCart();
getProductsList();

export { getProductsList, host };
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Cart.html">Cart</a></li><li><a href="module-GetCategoriesList.html">GetCategoriesList</a></li><li><a href="module-GetProductsList.html">GetProductsList</a></li><li><a href="module-Pagination.html">Pagination</a></li><li><a href="module-scripts.html">scripts</a></li><li><a href="module-Service_GetProducts.html">Service_GetProducts</a></li><li><a href="module-Utils.html">Utils</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Sat Jun 11 2022 18:45:06 GMT-0500 (hora estándar de Perú)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
